webpackJsonp([18],{Bz9Y:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"people",data:function(){return{data:[{id:1,label:"数据统计服务",children:[{id:4,label:"车辆数据管理",children:[{id:6,label:"数据删除"},{id:7,label:"数据添加"}]},{id:5,label:"车辆报警信息",children:[{id:8,label:"数据删除"},{id:9,label:"数据添加"}]}]},{id:2,label:"数据应用服务",children:[{id:10,label:"风险评估"},{id:11,label:"车辆检测"}]},{id:3,label:"用户角色权限",children:[{id:12,label:"用户添加"},{id:13,label:"用户删除"},{id:14,label:"用户权限修改"}]}],formLabelWidth:"50px",dialogFormVisible:!1,dialogFormVisible1:!1,departmentData:[{name:"长安大学",username:"超级管理员"},{name:"管理部",username:"一般管理员"},{name:"展示",username:"普通用户"}],form:{name:"长安大学",username:"超级管理员"},total:null,currentRow:1,selectedData:{},imageUrl:"",props:{currentPage4:4,departmentData:[],selectedData:{},defaultProps:{children:"children",label:"label"}},value:""}},methods:{loadTabs:function(){$(".workProcessTabs p").click(function(){$(this).addClass("active"),$(this).siblings().removeClass("active");var e=$(".dc_menu").index(this);$(".workProcessTable").hide(),$(".workProcessTable").eq(e).show()})},row_click:function(e){console.log(e),this.selectedData=e;var t=this;setTimeout(function(){t.loadPersonelPosts()},100)},edit:function(e){this.$router.push({path:"/modify",query:{id:e.id}})},deleteid:function(e){var t=this;this.$confirm("确定删除该条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("http://localhost:8181/people/deleteById/"+e.id).then(function(e){window.location.reload()}),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},page:function(e){var t=this;this.$axios.get("http://localhost:8181/people/findAll/"+e+"/8").then(function(e){t.departmentData=e.data.content,t.total=e.data.totalElements})}},created:function(){var e=this;this.$axios.get("http://localhost:8181/people/findAll/1/8").then(function(t){console.log(t.data),e.departmentData=t.data.content,e.total=t.data.totalElements,that.selectedData=that.departmentData[0]})}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-box"},[a("div",{staticClass:"pageTop"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/permission/people"}}},[e._v("系统权限管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("权限管理")])],1)],1),e._v(" "),a("div",{staticClass:"page",staticStyle:{width:"100%","margin-top":"5px"}}),e._v(" "),a("div",{staticClass:"pageLeft"},[a("div",{staticClass:"pageContentTitle",staticStyle:{"padding-top":"15px","line-height":"30px","border-bottom":"1px solid #E1E1E1",color:"#262626","padding-left":"10px","font-size":"15px","font-weight":"bold"}},[e._v("管理员权限\n    ")]),e._v(" "),a("div",{staticStyle:{padding:"10px 15px"}},[a("el-table",{staticStyle:{padding:"3px 3px 3px"},attrs:{data:e.departmentData,"highlight-current-row":!0,"current-row-key":e.currentRow},on:{"row-click":e.row_click}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"#",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trajectoryState","show-overflow-tooltip":!0,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"inline-block"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisible1=!0}}},[e._v("修改")]),e._v(" "),a("el-dialog",{attrs:{title:"管理员角色修改",visible:e.dialogFormVisible1,width:"350px"},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员角色"}},[a("el-select",{attrs:{placeholder:"请选择管理员角色"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[a("el-option",{attrs:{label:"超级管理员",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"一般管理员",value:"beijing"}}),e._v(" "),a("el-option",{attrs:{label:"普通用户",value:"beijing"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("分配权限")]),e._v(" "),a("el-dialog",{attrs:{title:"管理员权限分类",visible:e.dialogFormVisible,width:"300px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.data,"show-checkbox":"","default-expand-all":"","default-checked-keys":[1,2,3],"node-key":"id","highlight-current":"",props:e.defaultProps}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return delete t.row}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"paginationContainer"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-size":17,layout:"total,prev, pager, next, jumper",total:e.total},on:{"current-change":e.page}})],1)],1)])])},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(e){a("XeIw")},"data-v-7971e216",null);t.default=o.exports},XeIw:function(e,t){}});
//# sourceMappingURL=18.60d792af9b774e4a91f5.js.map